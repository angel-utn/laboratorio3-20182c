CREATE DATABASE PARCIAL2_20182C
GO
use PARCIAL2_20182C
go
CREATE TABLE OBRAS(
  IDOBRA BIGINT NOT NULL PRIMARY KEY,
  OBRA VARCHAR(250) NOT NULL,
  ESTRENO DATE NOT NULL,
  COSTO_X_FUNCION MONEY NOT NULL,
  CANCELADA BIT NOT NULL  -- 0 NO CANCELADA, 1 -- CANCELADA
)
GO
CREATE TABLE SALAS(
  IDSALA INT NOT NULL PRIMARY KEY,
  SALA VARCHAR(50) NOT NULL,
  TIPO INT NOT NULL -- '1 - PÚBLICO PROVINCIAL, 2 - PÚBLICO NACIONAL, 3 - PRIVADO'
)
GO
CREATE TABLE FUNCIONES(
  IDFUNCION BIGINT NOT NULL PRIMARY KEY IDENTITY (1, 1),
  IDOBRA BIGINT NOT NULL FOREIGN KEY REFERENCES OBRAS(IDOBRA),
  IDSALA INT NOT NULL FOREIGN KEY REFERENCES SALAS(IDSALA),
  FECHA DATE NOT NULL,
  CANCELADA BIT NOT NULL -- 0 NO CANCELADA, 1 -- CANCELADA
)

SET DATEFORMAT 'YMD'
INSERT INTO OBRAS (IDOBRA, OBRA, ESTRENO, COSTO_X_FUNCION, CANCELADA) VALUES (1, 'LOS TELETUBBIES', '2018/11/15', 500, 0)
INSERT INTO OBRAS (IDOBRA, OBRA, ESTRENO, COSTO_X_FUNCION, CANCELADA) VALUES (2, 'LOS MISERABLES', '2018/11/10', 1500, 0)
INSERT INTO OBRAS (IDOBRA, OBRA, ESTRENO, COSTO_X_FUNCION, CANCELADA) VALUES (3, 'ROMEO Y JULIETA','2019/1/10', 1000, 0)
INSERT INTO OBRAS (IDOBRA, OBRA, ESTRENO, COSTO_X_FUNCION, CANCELADA) VALUES (4, 'PEPPA PIG', '2018/6/3', 750, 0)
GO
INSERT INTO SALAS (IDSALA, SALA, TIPO) VALUES (1, 'ORFEO', 3)
INSERT INTO SALAS (IDSALA, SALA, TIPO) VALUES (2, 'COLONIAL', 1)
INSERT INTO SALAS (IDSALA, SALA, TIPO) VALUES (3, 'OPERA', 2)
INSERT INTO SALAS (IDSALA, SALA, TIPO) VALUES (4, 'CHACAREREAN', 3)
GO
INSERT INTO FUNCIONES (IDOBRA, IDSALA, FECHA, CANCELADA) VALUES (1, 1, '2018/11/25', 0)
INSERT INTO FUNCIONES (IDOBRA, IDSALA, FECHA, CANCELADA) VALUES (1, 1, '2018/11/29', 1)
INSERT INTO FUNCIONES (IDOBRA, IDSALA, FECHA, CANCELADA) VALUES (1, 2, '2018/12/1', 0)
INSERT INTO FUNCIONES (IDOBRA, IDSALA, FECHA, CANCELADA) VALUES (1, 2, '2018/12/3', 0)
INSERT INTO FUNCIONES (IDOBRA, IDSALA, FECHA, CANCELADA) VALUES (2, 3, '2018/11/15', 0)
INSERT INTO FUNCIONES (IDOBRA, IDSALA, FECHA, CANCELADA) VALUES (2, 4, '2018/11/28', 1)
INSERT INTO FUNCIONES (IDOBRA, IDSALA, FECHA, CANCELADA) VALUES (4, 4, '2018/6/25', 0)
